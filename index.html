<!DOCTYPE html>
<html>

<head>
    <title>Conversation Page</title>
    <style>
        #conversation {
            margin-bottom: 10px;
        }
    </style>
    <script>
        function submitForm() {
            var inputText = document.getElementById('input-text').value;

            // Make a POST request to the server with the input text
            // and receive the output text in response
            $.ajax({
                type: 'POST',
                url: '/process',
                data: { input_text: inputText },
                success: function (response) {
                    // Update the conversation display with the output text
                    updateConversation(inputText, response.output_text);
                },
                error: function (xhr, status, error) {
                    console.error('AJAX request failed:', error);
                }
            });

            // Update the conversation display
            updateConversation(inputText, outputText);
        }

        function updateConversation(inputText, outputText) {
            var conversation = document.getElementById('conversation');

            var userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.innerHTML = '<span class="message-text">User: </span><span>' + inputText + '</span>';
            conversation.appendChild(userMessage);

            var botMessage = document.createElement('div');
            botMessage.className = 'message bot-message';
            botMessage.innerHTML = '<span class="message-text">Bot: </span><span>' + outputText + '</span>';
            conversation.appendChild(botMessage);
        }
    </script>
</head>

<body>
    <h1>Conversation Page</h1>

    <div id="conversation"></div>

    <form>
        <input type="text" id="input-text" placeholder="Enter your message">
        <button type="button" onclick="submitForm()">Submit</button>
    </form>
</body>

</html>